Testing Notes


3/21/16
The CSRF service issues one token per session, so we would like the webapp to only request a token once and then re use it if it is still within the same session. This seems to be working in the local environment but not in dev

Open the MakePayment form and open the inspection tool.
open the Network-tab in the inspection tool
Make a payment, click the submit button on the Review dialog
Immediately find an entry in the network tab <chrome> token/  <firefox> 200 POST /csrf/services/rest/ssrf/vi/token/   
On either [ ch | ff ] view the Network Response tab ( within Networks )  
Copy te string  that follows 'token:'    This string is the token.

copy this down.

Log out and log back in make a payment and reveiw the token response.  

Expect:  It must be different

From within the same session, make another payment.

Expect: it should be the same value since the last login and same recent payment.



3-1-2016
Protractor test in the Integration/scenarios directorygrep 


maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ find . *.test.js  -type f -print0 | xargs -0 grep "expect" | wc -l
 
 
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ ll
total 136
drwxr-xr-x  10 maatkins  SVBANKDOM\Domain Users    340 Mar  1 18:21 ./
drwxr-xr-x  10 maatkins  SVBANKDOM\Domain Users    340 Feb 19 11:23 ../
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users  12288 Mar  1 18:22 .ptor_user4_bacs_chapsScenario.test.js.swp
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users   3451 Feb 24 11:21 cumulativeLimitDailyUserlimitScenario.test.db.js
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users   2757 Feb 24 11:21 cumulativeLimitScenario.test.db.js
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users   7283 Feb 24 11:21 paymentDisplay.test.db.js
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users  13705 Feb 24 11:21 ptor_user2_allScenario.test.js
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users   6076 Feb 24 11:21 ptor_user3_allScenario.test.js
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users   2317 Feb  9 13:52 ptor_user4_bacs_chapsScenario.test.js
-rw-r--r--   1 maatkins  SVBANKDOM\Domain Users  10997 Feb 24 11:21 ptor_user5_allScenario.test.js
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect *.js | wc -l  =
     183
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect *.js |less
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect cumulativeLimitD* | wc -l  =  5
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect cumulativeLimitS* | wc -l  = 5
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect pay* | wc -l  = 41
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect *user2* | wc -l == 48
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect *user3* | wc -l == 36
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect *user4* | wc -l  == 5
maatkins@CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ grep expect *user5* | wc -l  == 43
maatkins @CHB-M-LPT90034:~/svb-web-payments/integration/scenarios$ 



2/17/16 Since we are sprint specific this file should be moved to the sprint specific details
Likely this will be deprecated or a least become a one or capture or something.

=== Contents moved into sprint 12 & 13 documents ===

2/18/16
General Notes:  These are not sprint specific


/***************************************************************
** 
**  These are being used to test cumulative Limits
** 
***************************************************************/

select * from payment where payment_id = 886;

select * from payment order by amount DESC;

select * from payment order by payment_id DESC;

// 5163756  qa adbrain_bacs

// 5173182 dev adbrain_bacs

SELECT SUM(P.AMOUNT)
              FROM PAYMENT P
              WHERE P.CLIENT_ID = 5163756 AND P.PAYMENT_DATE = TRUNC(SYSDATE);
            
              

select * from payment order by payment_id DESC;


select * from payment where client_id = 5173182 order by payment_date DESC, payment_id DESC;

select count(*) from payment where client_id = 5163756 AND PAYMENT_DATE = TRUNC(SYSDATE);


https://murano.qa4.svbconnect.com/entitlement/service/rest/private/entitlement/v1/sessionEntitlements?entitlements=PAYMENT_FREE_FORM
REST Interface :  this tells you the currently logged in UID, ClientID xaction limits, etc.

**** The 302 query is É.


// adbrain_fps user
SELECT SUM(P.AMOUNT)
              FROM PAYMENT P
              WHERE P.CREATOR_ID = 1460520 AND P.PAYMENT_DATE = TRUNC(SYSDATE)
              AND P.FUNDING_ACCOUNT_IDENTIFIER = 18998239;

adbrain_fps UserID == Creator_ID == 1460520
adbrainfps2 UserID == Creator_ID == 1460576

Funding_account_id == 2011[2181] == 18998239
Funding_account_id == 2010[5436] == 7391192
Funding_account_id == 2011[2203] == 18998240
Funding_account_id == 2011[3714] == 21707232
Funding_account_id == 2011[2211] == 18998241
    

[3:49] 
CREATOR_ID = user id

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
end.
